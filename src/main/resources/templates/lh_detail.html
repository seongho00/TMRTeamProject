<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="|${item.title} - 상세 정보|">공고 상세 정보</title>
    <style>
        body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; margin: 0; padding: 2rem; background-color: #f8f9fa; }
        .container { max-width: 900px; margin: 0 auto; background: #fff; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }

        /* 제목, 돌아가기 */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        h1 { font-size: 1.7rem; margin: 0; line-height: 1.4; }
        .btn-back {
            display: inline-block;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            font-weight: 600;
            color: #fff;
            background-color: #6c757d;
            border: none;
            border-radius: 4px;
            text-decoration: none;
            text-align: center;
            transition: background-color 0.2s;
            flex-shrink: 0; /* 버튼 크기 유지 */
        }
        .btn-back:hover { background-color: #5a6268; }

        .meta-info { margin-bottom: 1.5rem; color: #6c757d; font-size: 0.9rem; }
        .meta-info span { margin-right: 1.5rem; }
        .content-section { margin-bottom: 2rem; }
        .content-section h2 { font-size: 1.3rem; border-bottom: 1px solid #e9ecef; padding-bottom: 0.5rem; margin-bottom: 1rem; }

        /* 첨부파일 목록, 다운로드 버튼*/
        .attachment-list { list-style: none; padding: 0; }
        .attachment-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #f1f3f5;
        }
        .attachment-name {
            color: #212529;
            margin-right: 1rem;
        }
        .btn-download {
            display: inline-block;
            padding: 0.25rem 0.6rem;
            font-size: 0.8rem;
            color: #007bff;
            background-color: #fff;
            border: 1px solid #007bff;
            border-radius: 4px;
            text-decoration: none;
            flex-shrink: 0;
            transition: all 0.2s;
        }
        .btn-download:hover { background-color: #007bff; color: #fff; }

        .extracted-text {
            white-space: pre-wrap;
            background-color: #f1f3f5;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 1rem;
            font-size: 0.875rem;
            line-height: 1.6;
            max-height: 600px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
<div class="container">

    <div class="header">
        <h1 th:text="${item.title}">공고 제목이 여기에 표시됩니다.</h1>
        <a href="/lh" class="btn-back">목록으로</a>
    </div>

    <div class="meta-info">
        <span><strong>번호:</strong> <th:block th:text="${item.siteNo}"/></span>
        <span><strong>게시일:</strong> <th:block th:text="${#temporals.format(item.postDate, 'yyyy-MM-dd')}"/></span>
        <span><strong>상태:</strong> <th:block th:text="${item.status}"/></span>
    </div>

    <div class="content-section">
        <h2>첨부파일 목록</h2>
        <ul th:if="${!#lists.isEmpty(item.attachments)}" class="attachment-list">
            <li th:each="file : ${item.attachments}" class="attachment-item">
                <span class="attachment-name" th:text="${file.name}" th:title="${file.name}"></span>
                <a th:href="${file.url}" th:download="${file.name}" class="btn-download">다운로드</a>
            </li>
        </ul>
        <p th:if="${#lists.isEmpty(item.attachments)}">첨부파일이 없습니다.</p>
    </div>

    <div class="content-section">
        <h2>추출된 공고 텍스트</h2>
        <pre class="extracted-text" th:text="${item.extractedText ?: '추출된 텍스트가 없습니다.'}"></pre>
    </div>

</div>
</body>
</html>